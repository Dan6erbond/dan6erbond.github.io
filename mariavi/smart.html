<!DOCTYPE html>
<html>

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-108473273-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-108473273-1');
  </script>

  <meta charset="UTF-8">
  <meta name="description" content="SMART is a tool to aid in creating mods and the sorts for the game Staxel.">
  <meta name="keywords" content="Discord,Reddit,Mariavi,Ravi,Mod,Lydocia,Amy,Staxel,Game,SMART">
  <meta name="author" content="RaviAnand Mohabir">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="tag_link.asp" rel="parent" rev="subsection" hreflang="en">

  <link href="/css/css.css" rel="stylesheet" />
  <link href="/css/wiki.css" rel="stylesheet" />

  <script src="/js/w3.js"></script>
  <script src="/js/d6b.js"></script>

  <title>SMART</title>
</head>

<body>
  <div w3-include-html="/html/header.html"></div>

  <main>
    <h1>SMART<a onclick="copyToClipboard(this.href);" href="#">🔗</a></h1>

    <div class="top">
      <div class="summary">
        SMART stands for "Staxel Modding and Related Tools". It's a GUI application written with Java, using the JavaFX framework, to aid in creating mods for the game Staxel as well as other useful tools.
        <br>
        <br>
        The application started as a simple LANG building script written in Python using a recursive algorithm to find all the <code>.tile</code> files and create an entry in the LANG file.
        These features now exist in the GUI application and have since been improved.
        <br>
        <br>
        Support for the tool as well as pointers on creating Staxel Mods can be found in the <a href="https://discord.gg/ev4zepN">Staxel Mod Bucket Discord server</a>.

        <h2 id="index">Index<a onclick="copyToClipboard(this.href);" href="#index">🔗</a></h2>
        <ol class="index">
          <li>
            <a href="#usage">Usage</a>
            <ul>
              <li>
                <a href="#general">General</a>
              </li>
              <li>
                <a href="#langbuilder">Lang Builder</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#components">Components</a>
            <ul>
              <li>
                <a href="#filehandler">File Handler</a>
              </li>
              <li>
                <a href="#staxelobject">Staxel Object</a>
              </li>
              <li>
                <a href="#langgenerator">Lang Generator</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="#glossary">Glossary</a>
          </li>
        </ol>
      </div>
      <div class="card">
        <img src="img/smart/staxel.png" alt="">
        <div class="table">
          <table>
            <th colspan="2">Overview</th>
            <tr>
              <td>Type</td>
              <td>Software</td>
            </tr>
            <tr>
              <td>Developer</td>
              <td>Mariavi</td>
            </tr>
            <tr>
              <td>Framework</td>
              <td>JavaFX</td>
            </tr>
            <tr>
              <td>Stage</td>
              <td>In Development</td>
            </tr>
            <tr>
              <td>Source Code</td>
              <td>Open on <a href="https://github.com/Dan6erbond/SMART">GitHub</a></td>
            </tr>
          </table>
        </div>
      </div>
    </div>

    <h2 id="usage">Usage<a onclick="copyToClipboard(this.href);" href="#usage">🔗</a></h2>
    <p>
      If you plan on using the GUI version, you'll need to have the <a href="https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html">Java Runtime Environment</a> installed as well as the latest <code>.exe</code> which can be found <a href="https://github.com/Dan6erbond/SMART/releases/latest">here</a>.
    </p>
    <h3 id="general">General<a onclick="copyToClipboard(this.href);" href="#general">🔗</a></h3>
    <p>
      Upon opening the application the very first time, the program will create a <code>config.json</code> file that currently stores information about the user's selected background and accent color.
      The file uses the following structure and can be edited with a text editor as well as within the menu of the application:
    </p>
    <pre>{"backgroundColor":"#154D6B","accentColor":"#BEC9DF"}</pre>
    <p>
      As can be seen in the image below, the accent color will change the colors of buttons, input fields etc. while the background color strictly modifies the application's background. The changes are persistent over the different windows the application contains and it automatically adjusts the text colors based on what background/accent colors were selected.
    </p>
    <div class="img-container">
      <div class="wiki-img">
        <img src="img/smart/menu.jpg" alt="">
        <p>The background and accent color controls the GUI's look and feel and can be edited in the menu on the fly.</p>
      </div>
    </div>

    <h3 id="langbuilder">Lang Builder<a onclick="copyToClipboard(this.href);" href="#langbuilder">🔗</a></h3>
    <p>
      The Lang Builder is the first of many features to be implemented in SMART and exists in both the CLI and GUI version.
      The GUI version finds all the <code>.tile</code> and <code>.item</code> files within the selected directory (using the relative or absolute path in the CLI version) whereas the CLI version only supports <code>.tile</code> files. After finding the files it generates a <code>.lang</code> file in the root of the selected folder.
      <br>
      <br>
      The CLI version only adds lines to the <code>.lang</code> file or creates one from scratch, it does not allow you to edit fields or reliably edit a pre-existing <code>.lang</code> file.
      It also does not support <code>.itme</code> files and surrounds the fields with <code>""</code> making it quite a limited tool in terms of functionality as it is not being updated anymore.
      Thus the following documentation only applies to the GUI version.
      <br>
      <br>
      After using "Select Directory" to pick the folder in which the program should search for Item and Tile mods, the program will display all the files found in the ListView to the left.
      The <code>code</code> field found in the object's JSON is used as the title and can be edited at the right-hand site along with the <code>name</code> and <code>description</code> fields.
      The program will also search for pre-existing entries in the Lang file to import the name/description and if none was found, it will use the object's file-name.
      <br>
      <br>
      Once you're done editing the fields you want to edit (editing <code>code</code> will also affect the JSON and may require manual intervention in <code>.recipe</code> files and the sorts linking to said code) using "Write Lang File" the program will search for a pre-existing Lang file, if none was found a new one will be created that has the name of the root folder, otherwise the one that was found will be overwritten.
      <br>
      <br>
      If no <code>.tile</code> or <code>.item</code> files were found, the program will block you from generating a LANG file.
    </p>
    <div class="img-container">
      <div class="wiki-img">
        <img src="https://user-images.githubusercontent.com/32235074/58615354-243d4080-82bb-11e9-8be4-129a913dfa96.png" alt="">
        <p>The LANG Builder will find all the <code>.tile</code> and <code>.item</code> files within a folder and allow you to edit certain fields before generating/saving the new LANG. Credit to <a href="https://discord.gg/9tmPaUV">lydocia</a> for the mods used to test this feature.</p>
      </div>
    </div>

    <h2 id="components">Components<a onclick="copyToClipboard(this.href);" href="#components">🔗</a></h2>
    <p>
      This section focuses on the technical implementation of the software's individual components to aid contributors in understanding the design of the systems.
      For information on how to use the software, such as building a lang file, go to <a href="#usage">usage</a>.
    </p>
    <h3 id="filehandler">File Handler<a onclick="copyToClipboard(this.href);" href="#filehandler">🔗</a></h3>
    <p>
      The <a href="https://github.com/Dan6erbond/SMART/blob/master/Builder/src/main/java/FileHandler.java" target="_blank">File Handler</a> is essential to many of this program's processes and contains a couple important methods that are used throughout the other classes.
      <br>
      <br>
      The method <code>getSubFolders)()</code> can be found twice. Using method-overloads you can pick whether you want to use the loop or recursive version of essentially the same method depending on whether you favor efficiency or tolerance.
      Taking a look at the <code>getSubFolders(File)</code> method, we can see it takes a single parameter of the type [File] which is the root folder in which the method should find sub-folders.
      This method is not recursive:
    </p>
    <pre src="https://raw.githubusercontent.com/Dan6erbond/SMART/master/Builder/src/main/java/FileHandler.java" start="42" length="14"></pre>

    <p>
      As you can see, the loop runs as long as the folder being scanned has sub-folders, determined by the <code>folders.size() > 0</code> boolean expression and those sub-folders are added to the <code>directories</code> within the loop.
      To avoid duplicates, a variable <code>remove</code> of the type <code>ArrayList<File>()</code> is created in which any duplicate folders are stored and used in the <code>folders.removeAll(remove);</code> line.
      <br>
      <br>
      In addition to <code>getFiles(File)</code> the FileHandler contains a method <code>getFiles(String, File, boolean)</code> which allows you to get all the files within a folder (and its subfolders if the last boolean is passed as <code>true</code>) and in combination with the Lang Builder, for example, is used to find all the <code>.tile</code> and <code>.item</code> files for which a Lang file can be built:
    </p>
    <pre src="https://raw.githubusercontent.com/Dan6erbond/SMART/master/Builder/src/main/java/FileHandler.java" start="24" length="18"></pre>

    <p>
      The previously shown method can thus be used as follows to get all the files from the current directory:
    </p>

    <pre src="code/getFilesExample.java"></pre>

    <p>
      The third line only adds <code>.item</code> files found in the current directory whereas the second also scans for <code>.tile</code> files in the sub directories.
    </p>

    <h3 id="staxelobject">Staxel Object<a onclick="copyToClipboard(this.href);" href="#staxelobject">🔗</a></h3>
    <p>
      <code>StaxelObject</code> is an interface used throughout the project that represents a simple <code>.tile</code> or <code>.item</code> mod.
      Its main purpose is to, for example, allow the Lang Builder to create entries for both Tile and Item mods since the general structure remains the same.
      The most important methods it contains are the <code>getLang()</code> as well as other getters and setters while any logic for parsing Lang/Object files is written into the <code>Tile</code> and <code>Item</code> class.
      <br>
      <br>
      Using the <code>StaxelObject</code> interface there's the implementation of a <code>Tile</code> mod object as well as an <code>Item</code> mod object.
      Both have yet to include all the necessary attributes to easily export back to a JSON model, which is why the <code>org.json</code> library is being used to simply fill in attributes instead of recreating the object when exporting.
      In addition that allows the object's <code>code</code> attribute for example to be manipulated within the Lang Builder while retaining the other attributes.
      <br>
      <br>
      Following is the example of the <code>Tile</code> object:
    </p>
    <pre src="https://raw.githubusercontent.com/Dan6erbond/SMART/master/Builder/src/main/java/Tile.java" start="7"></pre>
    <p>
      Notworthy in this example is how the code searches for an entry in a Lang file with RegEx which can be "disabled" by using a method-overload with a different signature (for example by emitting the String parameter) for the constructor where that logic isn't included.
      That also means, though, that <code>getName()</code>, <code>getDescription()</code> and <code>getLang()</code> as well as the setters won't be reliable unless the setters are used before to sets pseudo names and descriptions.
      <br>
      <br>
      <code>Item</code> is built similarly to <code>Tile</code> with the main difference being that it's fed a <code>.item</code> file which <i>slightly</i> changes some String operations but mainly serves to retain the object-oriented approach for future implementations of GUIs and the sorts.
      Once a Mod Builder for <code>Tile</code> or <code>Item</code> files is created, these classes will have far more methods and attributes with some of them being unique which means separating them beforehand makes future additions easier.
    </p>

    <h3 id="langgenerator">Lang Generator<a onclick="copyToClipboard(this.href);" href="#langgenerator">🔗</a></h3>
    <p>
      👷‍ 🚧 Work in progress! 🚧
    </p>

    <h2 id="glossary">Glossary<a onclick="copyToClipboard(this.href);" href="#glossary">🔗</a></h2>
    <ul>
      <li>
        <u><b>CLI</b></u>
        <br>
        A command-line interface is a form of user interface that uses simple text-based in- and outputs to communicate with the user.
      </li>
      <li>
        <u><b>GUI</b></u>
        <br>
        GUIs are a user interface that don't solely rely on text inputs and outputs to interact with the user.
      </li>
    </ul>
  </main>

  <div w3-include-html="/html/tags.html"></div>
  <div w3-include-html="/html/footer.html"></div>

  <script>
    w3.includeHTML();
    includeCode();
  </script>
</body>

</html>
