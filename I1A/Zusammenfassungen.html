<!DOCTYPE html>
<script src="/Scripts/w3.js"></script>
<script src="/I1A/Scripts/Zusammenfassungen.js"></script>
<html>
<head>
    <meta charset="utf-8" />
    <link href="/Stylesheets/MainStylesheet.css" rel="stylesheet" />
    <title>I1A | Zusammenfassungen</title>
</head>
<body onload="UpdateZusammenfassungen();">
    <div w3-include-html="/I1A/Standard Elements/Header.html"></div>

    <main>
      <h1>Zusammenfassungen</h1>
      <br>
      <div id="Zusammenfassungen">
      </div>
      <br>
      <p class="Bearbeitung">Diese Seite wird noch bearbeitet!</p>
    </main>

    <div w3-include-html="/I1A/Standard Elements/Footer.html"></div>

    <script>
        w3.includeHTML();
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                var myArr = JSON.parse(this.responseText);

                for (var i = 0; i < myArr.length; i++) {
                  zusammenfassung = myArr[i];
                  var placeholder = document.createElement("div");

                  var title = document.createElement("p");
                  var titleText = document.createTextNode(zusammenfassung);
                  title.appendChild(titleText);

                  var img = document.createElement("img");
                  img.src = "/I1A/Zusammenfassungen/Images/" + zusammenfassung + ".png";

                  var downloadButton = document.createElement("a");
                  downloadButton.classList.add("zusammenfassungDownload");
                  downloadButton.href = "I1A/Zusammenfassungen/" + zusammenfassung + ".pdf";
                  var downloadText = document.createTextNode(zusammenfassung);
                  downloadButton.appendChild(downloadText);

                  placeholder.appendChild(title);
                  placeholder.appendChild(img);
                  placeholder.appendChild(downloadButton);

                  var zusammenfassungen = document.getElementById("Zusammenfassungen");
                  zusammenfassungen.appendChild(placeholder);
                }
            }
        };
        xmlhttp.open("GET", "/I1A/Zusammenfassungen/Zusammenfassungen.json", true);
        xmlhttp.send();
    </script>
</body>
</html>
